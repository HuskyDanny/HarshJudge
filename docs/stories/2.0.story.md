# Story 2.0: Create HarshJudge Skill Core Structure

## Status

Done

## Story

**As a** developer,
**I want** a BMAD-like skill architecture with structured directories,
**so that** skills are trackable, context-minimized, and deterministic.

## Acceptance Criteria

1. `skills/harshjudge/` directory structure created with subdirectories:
   - `tasks/` - Executable task workflows
   - `templates/` - Output and scenario templates
   - `checklists/` - Validation checklists
   - `data/` - Reference data files
2. Main `skill.yaml` file created with YAML-structured definition including:
   - Skill metadata (name, id, version, description)
   - Activation triggers (keywords and commands)
   - Prerequisites (required MCP servers)
   - Command-to-task mappings
   - Core principles
   - Dependencies list
3. `skill-state.yaml` schema defined for run-level state tracking
4. Base templates created for tasks, checklists, and data files
5. Architecture documents updated to reflect new structure

## Technical References

- **Architecture:** `docs/architecture/appendix-a-claude-skill-templates.md` (A.1-A.4)
- **Database Schema:** `docs/architecture/8-database-schema.md` (skill-state.yaml in Section 8.2)
- **Project Structure:** `docs/architecture/11-unified-project-structure.md` (skills directory)

## Tasks / Subtasks

- [ ] **Task 1: Create directory structure**
  - Create `skills/harshjudge/` directory
  - Create subdirectories: `tasks/`, `templates/`, `checklists/`, `data/`
  - Verify structure matches `11-unified-project-structure.md`

- [ ] **Task 2: Create skeleton skill.yaml**
  - Create `skills/harshjudge/skill.yaml` with full YAML structure
  - Include all sections from Appendix A.2:
    - `skill:` metadata block (name, id, version, description)
    - `activation:` block (keywords, commands)
    - `prerequisites:` block (MCP servers with required tools)
    - `commands:` block (command-to-task mappings)
    - `principles:` block (5 core principles with IDs)
    - `dependencies:` block (tasks, templates, checklists, data)
  - Commands reference task files to be created in Stories 2.2-2.6

- [ ] **Task 3: Create placeholder task files**
  - Create `tasks/setup-project.md` placeholder
  - Create `tasks/analyze-project.md` placeholder
  - Create `tasks/create-scenario.md` placeholder
  - Create `tasks/run-scenario.md` placeholder
  - Create `tasks/check-status.md` placeholder
  - Each placeholder contains minimal header referencing its story

- [ ] **Task 4: Create placeholder template files**
  - Create `templates/scenario-tmpl.yaml` placeholder
  - Create `templates/analysis-output-tmpl.md` placeholder
  - Create `templates/status-output-tmpl.md` placeholder

- [ ] **Task 5: Create placeholder checklist files**
  - Create `checklists/setup-checklist.md` placeholder
  - Create `checklists/scenario-checklist.md` placeholder
  - Create `checklists/pre-run-checklist.md` placeholder
  - Create `checklists/evidence-checklist.md` placeholder

- [ ] **Task 6: Create placeholder data files**
  - Create `data/evidence-types.md` placeholder
  - Create `data/error-protocols.md` placeholder

- [ ] **Task 7: Document skill-state.yaml schema**
  - Create `data/skill-state-schema.md` documenting the schema
  - Reference architecture Section 8.2 for schema definition
  - Include field descriptions and valid values for `currentPhase`

- [ ] **Task 8: Verify structure completeness**
  - Run directory listing to verify all files created
  - Verify skill.yaml dependencies match created files
  - Ensure all references in architecture docs are satisfied

## Dependencies

- **Blocked by:** None (foundational story)
- **Blocks:** Stories 2.1-2.6 (all depend on core structure)

## Definition of Done

- [ ] All directories created under `skills/harshjudge/`
- [ ] `skill.yaml` contains complete YAML structure per Appendix A.2
- [ ] All placeholder files created in tasks/, templates/, checklists/, data/
- [ ] skill-state.yaml schema documented
- [ ] Structure matches `11-unified-project-structure.md`
- [ ] No linting errors in YAML files

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-05 | 1.0 | Initial story created after Sprint Change Proposal | SM Agent (Bob) |
| 2025-12-05 | 1.1 | Implementation completed | Dev Agent |

---

## Dev Agent Record

**Implementation Date:** 2025-12-05

**Files Created:**
- `skills/harshjudge/skill.yaml` - Main skill definition with full YAML structure
- `skills/harshjudge/tasks/setup-project.md` - Placeholder task
- `skills/harshjudge/tasks/analyze-project.md` - Placeholder task
- `skills/harshjudge/tasks/create-scenario.md` - Placeholder task
- `skills/harshjudge/tasks/run-scenario.md` - Placeholder task
- `skills/harshjudge/tasks/check-status.md` - Placeholder task
- `skills/harshjudge/templates/scenario-tmpl.yaml` - Scenario template
- `skills/harshjudge/templates/analysis-output-tmpl.md` - Analysis output template
- `skills/harshjudge/templates/status-output-tmpl.md` - Status output template
- `skills/harshjudge/checklists/setup-checklist.md` - Setup validation checklist
- `skills/harshjudge/checklists/scenario-checklist.md` - Scenario validation checklist
- `skills/harshjudge/checklists/pre-run-checklist.md` - Pre-run validation checklist
- `skills/harshjudge/checklists/evidence-checklist.md` - Evidence capture checklist
- `skills/harshjudge/data/evidence-types.md` - Evidence types reference
- `skills/harshjudge/data/error-protocols.md` - Error handling protocols
- `skills/harshjudge/data/skill-state-schema.md` - skill-state.yaml schema documentation

**Implementation Details:**
- Created BMAD-like directory structure under `skills/harshjudge/`
- skill.yaml contains all sections per Appendix A.2: metadata, activation, prerequisites, commands, principles, dependencies
- All 5 task files created as placeholders referencing their respective stories
- All 3 template files created with placeholder structures
- All 4 checklist files created with placeholder validation items
- All 3 data files created including comprehensive skill-state-schema.md

**Verification:**
- 16 files total created
- Directory structure matches `11-unified-project-structure.md`
- All dependencies listed in skill.yaml have corresponding files

---

## QA Results

**QA Date:** 2025-12-05
**Status:** PASSED

### Acceptance Criteria Verification

| AC # | Criteria | Status |
|------|----------|--------|
| 1 | Directory structure with tasks/, templates/, checklists/, data/ | ✅ PASS |
| 2 | skill.yaml with all required sections | ✅ PASS |
| 3 | skill-state.yaml schema defined | ✅ PASS |
| 4 | Base templates created | ✅ PASS |
| 5 | Architecture documents updated | ✅ PASS |

### File Inventory

- **skill.yaml:** Complete with 6 sections (skill, activation, prerequisites, commands, principles, dependencies)
- **tasks/:** 5 files (setup-project.md, analyze-project.md, create-scenario.md, run-scenario.md, check-status.md)
- **templates/:** 3 files (scenario-tmpl.yaml, analysis-output-tmpl.md, status-output-tmpl.md)
- **checklists/:** 4 files (setup-checklist.md, scenario-checklist.md, pre-run-checklist.md, evidence-checklist.md)
- **data/:** 3 files (evidence-types.md, error-protocols.md, skill-state-schema.md)

### Notes

- All 16 files created successfully
- skill-state-schema.md provides comprehensive documentation exceeding requirements
- Structure matches architecture specification in `11-unified-project-structure.md`
