# Story 4.4: Create Sample Project

## Status

Done

## Story

**As a** new user,
**I want** a sample project demonstrating HarshJudge,
**so that** I can see it working before using on my own project.

## Acceptance Criteria

1. Sample project in `examples/` directory
2. Simple web app with login flow
3. Pre-created scenarios for the sample app
4. Instructions to run the demo
5. Expected output documented

## Tasks / Subtasks

- [x] Task 1: Create demo app in examples/ directory (AC: 1, 2)
  - [x] Create `examples/demo-app/` directory structure
  - [x] Create `package.json` with no external dependencies
  - [x] Create `server.js` with pure Node.js HTTP server
  - [x] Implement login page with email/password form
  - [x] Implement dashboard page with user info
  - [x] Implement logout functionality
  - [x] Add data-testid attributes for Playwright selectors
  - [x] Add demo credentials (demo@example.com / demo123)

- [x] Task 2: Set up HarshJudge configuration (AC: 1)
  - [x] Create `.harshJudge/config.yaml` with project settings
  - [x] Create `.harshJudge/.gitignore` for evidence files

- [x] Task 3: Create pre-built scenarios (AC: 3)
  - [x] Create `login-flow` scenario with 5 steps
  - [x] Create `logout-flow` scenario with 5 steps
  - [x] Create meta.yaml files for each scenario
  - [x] Include proper Playwright code blocks
  - [x] Include verification assertions

- [x] Task 4: Write demo README (AC: 4, 5)
  - [x] Quick start instructions
  - [x] Demo credentials table
  - [x] Available routes documentation
  - [x] Pre-created scenarios description
  - [x] HarshJudge test execution instructions
  - [x] Expected output examples
  - [x] Evidence location documentation
  - [x] Project structure diagram
  - [x] Customization guide
  - [x] Troubleshooting section

## Dev Notes

### Demo App Features
- Pure Node.js implementation (no npm install required)
- ESM module format
- In-memory session store
- Two demo users pre-configured
- Health check endpoint
- Styled login/dashboard pages
- Proper data-testid attributes for E2E testing

### File Structure
```
examples/demo-app/
├── package.json                 # Project config
├── server.js                    # Demo app (~450 lines)
├── README.md                    # Instructions (~300 lines)
└── .harshJudge/
    ├── config.yaml              # HarshJudge config
    ├── .gitignore               # Ignore evidence
    └── scenarios/
        ├── login-flow/
        │   ├── scenario.md      # Login test scenario
        │   └── meta.yaml        # Run statistics
        └── logout-flow/
            ├── scenario.md      # Logout test scenario
            └── meta.yaml        # Run statistics
```

### Test Scenarios

**login-flow:**
1. Navigate to login page
2. Enter email address
3. Enter password
4. Submit login form
5. Verify dashboard display

**logout-flow:**
1. Login first (prerequisite)
2. Verify logged-in state
3. Click logout button
4. Verify redirect to login
5. Verify session is cleared

### AC Coverage Matrix

| AC | Deliverable | Status |
|----|-------------|--------|
| 1. examples/ directory | examples/demo-app/ | ✓ |
| 2. Login flow app | server.js with login/dashboard | ✓ |
| 3. Pre-created scenarios | login-flow, logout-flow | ✓ |
| 4. Run instructions | README.md Quick Start | ✓ |
| 5. Expected output | README.md with output examples | ✓ |

## Dev Agent Record

### Implementation Summary
- **Date:** 2025-12-07
- **Server Status:** Syntactically correct (tested - port in use error on occupied port)
- **Files Created:** 9 files

### Files Created
- `examples/demo-app/package.json`
- `examples/demo-app/server.js`
- `examples/demo-app/README.md`
- `examples/demo-app/.harshJudge/config.yaml`
- `examples/demo-app/.harshJudge/.gitignore`
- `examples/demo-app/.harshJudge/scenarios/login-flow/scenario.md`
- `examples/demo-app/.harshJudge/scenarios/login-flow/meta.yaml`
- `examples/demo-app/.harshJudge/scenarios/logout-flow/scenario.md`
- `examples/demo-app/.harshJudge/scenarios/logout-flow/meta.yaml`

### Verification
```
Demo App Structure: ✓
Login Flow: Form-based auth with session ✓
Data-testid Attributes: Present on all interactive elements ✓
Scenarios: 2 pre-created (login-flow, logout-flow) ✓
README: Complete with instructions and expected output ✓
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-07 | 1.0 | Initial story draft | SM Agent |
| 2025-12-07 | 1.1 | DEV implementation complete, all AC met | DEV Agent |
| 2025-12-07 | 1.2 | QA approved - marked Done | QA Agent |
