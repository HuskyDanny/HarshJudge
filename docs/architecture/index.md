# HarshJudge Fullstack Architecture Document

## Table of Contents

- [HarshJudge Fullstack Architecture Document](#table-of-contents)
  - [Change Log](./change-log.md)
  - [1. Introduction](./1-introduction.md)
    - [1.1 Starter Template Evaluation](./1-introduction.md#11-starter-template-evaluation)
  - [2. High Level Architecture](./2-high-level-architecture.md)
    - [2.1 Technical Summary](./2-high-level-architecture.md#21-technical-summary)
    - [2.2 Platform and Infrastructure Choice](./2-high-level-architecture.md#22-platform-and-infrastructure-choice)
    - [2.3 Repository Structure](./2-high-level-architecture.md#23-repository-structure)
    - [2.4 High Level Architecture Diagram](./2-high-level-architecture.md#24-high-level-architecture-diagram)
    - [2.5 Architectural Patterns](./2-high-level-architecture.md#25-architectural-patterns)
  - [3. Tech Stack](./3-tech-stack.md)
    - [3.1 Technology Stack Table](./3-tech-stack.md#31-technology-stack-table)
    - [3.2 Notable Exclusions](./3-tech-stack.md#32-notable-exclusions)
  - [4. Data Models](./4-data-models.md)
    - [4.1 HarshJudgeConfig](./4-data-models.md#41-harshjudgeconfig)
    - [4.2 Scenario](./4-data-models.md#42-scenario)
    - [4.3 ScenarioMeta](./4-data-models.md#43-scenariometa)
    - [4.4 Run](./4-data-models.md#44-run)
    - [4.5 RunResult](./4-data-models.md#45-runresult)
    - [4.6 Evidence](./4-data-models.md#46-evidence)
    - [4.7 ProjectStatus](./4-data-models.md#47-projectstatus)
  - [5. API Specification (MCP Tools)](./5-api-specification-mcp-tools.md)
    - [5.1 MCP Tool Schemas](./5-api-specification-mcp-tools.md#51-mcp-tool-schemas)
    - [5.2 MCP Tool Registration](./5-api-specification-mcp-tools.md#52-mcp-tool-registration)
  - [6. Components](./6-components.md)
    - [6.1 MCP Server Components](./6-components.md#61-mcp-server-components)
      - [FileSystemService](./6-components.md#filesystemservice)
      - [InitProjectHandler](./6-components.md#initprojecthandler)
      - [SaveScenarioHandler](./6-components.md#savescenariohandler)
      - [RunHandler](./6-components.md#runhandler)
      - [StatusHandler](./6-components.md#statushandler)
    - [6.2 Dashboard Components](./6-components.md#62-dashboard-components)
      - [FileWatcherService](./6-components.md#filewatcherservice)
      - [DataService](./6-components.md#dataservice)
      - [ProjectListPanel](./6-components.md#projectlistpanel)
      - [ScenarioListPanel](./6-components.md#scenariolistpanel)
      - [DetailPanel](./6-components.md#detailpanel)
      - [ScreenshotTimeline](./6-components.md#screenshottimeline)
      - [LogViewer](./6-components.md#logviewer)
    - [6.3 Component Diagram](./6-components.md#63-component-diagram)
  - [7. Core Workflows](./7-core-workflows.md)
    - [7.1 Project Initialization Workflow](./7-core-workflows.md#71-project-initialization-workflow)
    - [7.2 Scenario Creation Workflow](./7-core-workflows.md#72-scenario-creation-workflow)
    - [7.3 Test Execution Workflow](./7-core-workflows.md#73-test-execution-workflow)
    - [7.4 Dashboard Update Workflow](./7-core-workflows.md#74-dashboard-update-workflow)
  - [8. Database Schema](./8-database-schema.md)
    - [8.1 Directory Structure Schema](./8-database-schema.md#81-directory-structure-schema)
    - [8.2 File Schemas](./8-database-schema.md#82-file-schemas)
      - [config.yaml](./8-database-schema.md#configyaml)
      - [scenario.md](./8-database-schema.md#scenariomd)
    - [Step 2: Enter Credentials](./8-database-schema.md#step-2-enter-credentials)
    - [Step 3: Submit Form](./8-database-schema.md#step-3-submit-form)
  - [Expected Final State](#expected-final-state)
  - [9. Frontend Architecture](./9-frontend-architecture.md)
    - [9.1 Component Architecture](./9-frontend-architecture.md#91-component-architecture)
      - [Component Organization](./9-frontend-architecture.md#component-organization)
      - [Component Template](./9-frontend-architecture.md#component-template)
    - [9.2 State Management Architecture](./9-frontend-architecture.md#92-state-management-architecture)
      - [State Structure](./9-frontend-architecture.md#state-structure)
      - [State Management Patterns](./9-frontend-architecture.md#state-management-patterns)
    - [9.3 Routing Architecture](./9-frontend-architecture.md#93-routing-architecture)
      - [Route Organization](./9-frontend-architecture.md#route-organization)
      - [URL State Sync (Future Enhancement)](./9-frontend-architecture.md#url-state-sync-future-enhancement)
    - [9.4 Frontend Services Layer](./9-frontend-architecture.md#94-frontend-services-layer)
      - [File Watcher Setup](./9-frontend-architecture.md#file-watcher-setup)
      - [Data Service](./9-frontend-architecture.md#data-service)
  - [10. Backend Architecture (MCP Server)](./10-backend-architecture-mcp-server.md)
    - [10.1 Service Architecture](./10-backend-architecture-mcp-server.md#101-service-architecture)
      - [Handler Organization](./10-backend-architecture-mcp-server.md#handler-organization)
      - [Handler Template](./10-backend-architecture-mcp-server.md#handler-template)
    - [10.2 File System Service](./10-backend-architecture-mcp-server.md#102-file-system-service)
    - [10.3 MCP Server Entry Point](./10-backend-architecture-mcp-server.md#103-mcp-server-entry-point)
  - [11. Unified Project Structure](./11-unified-project-structure.md)
  - [12. Development Workflow](./12-development-workflow.md)
    - [12.1 Local Development Setup](./12-development-workflow.md#121-local-development-setup)
      - [Prerequisites](./12-development-workflow.md#prerequisites)
      - [Initial Setup](./12-development-workflow.md#initial-setup)
      - [Development Commands](./12-development-workflow.md#development-commands)
    - [12.2 Environment Configuration](./12-development-workflow.md#122-environment-configuration)
      - [Required Environment Variables](./12-development-workflow.md#required-environment-variables)
    - [12.3 MCP Server Testing](./12-development-workflow.md#123-mcp-server-testing)
  - [13. Deployment Architecture](./13-deployment-architecture.md)
    - [13.1 Deployment Strategy](./13-deployment-architecture.md#131-deployment-strategy)
    - [13.2 CI/CD Pipeline](./13-deployment-architecture.md#132-cicd-pipeline)
    - [13.3 Release Workflow](./13-deployment-architecture.md#133-release-workflow)
    - [13.4 Environments](./13-deployment-architecture.md#134-environments)
  - [14. Security and Performance](./14-security-and-performance.md)
    - [14.1 Security Requirements](./14-security-and-performance.md#141-security-requirements)
    - [14.2 Performance Optimization](./14-security-and-performance.md#142-performance-optimization)
  - [15. Testing Strategy](./15-testing-strategy.md)
    - [15.1 Testing Pyramid](./15-testing-strategy.md#151-testing-pyramid)
    - [15.2 Test Organization](./15-testing-strategy.md#152-test-organization)
      - [MCP Server Tests](./15-testing-strategy.md#mcp-server-tests)
      - [Dashboard Tests](./15-testing-strategy.md#dashboard-tests)
    - [15.3 Test Examples](./15-testing-strategy.md#153-test-examples)
      - [MCP Handler Test](./15-testing-strategy.md#mcp-handler-test)
      - [Dashboard Component Test](./15-testing-strategy.md#dashboard-component-test)
      - [Integration Test](./15-testing-strategy.md#integration-test)
  - [16. Coding Standards](./16-coding-standards.md)
    - [16.1 Critical Fullstack Rules](./16-coding-standards.md#161-critical-fullstack-rules)
    - [16.2 Naming Conventions](./16-coding-standards.md#162-naming-conventions)
  - [17. Error Handling Strategy](./17-error-handling-strategy.md)
    - [17.1 Error Flow](./17-error-handling-strategy.md#171-error-flow)
    - [17.2 Error Response Format](./17-error-handling-strategy.md#172-error-response-format)
    - [17.3 MCP Error Handler](./17-error-handling-strategy.md#173-mcp-error-handler)
    - [17.4 Dashboard Error Handling](./17-error-handling-strategy.md#174-dashboard-error-handling)
  - [18. Monitoring and Observability](./18-monitoring-and-observability.md)
    - [18.1 Monitoring Stack](./18-monitoring-and-observability.md#181-monitoring-stack)
    - [18.2 Logging Strategy](./18-monitoring-and-observability.md#182-logging-strategy)
    - [18.3 Key Metrics (Manual)](./18-monitoring-and-observability.md#183-key-metrics-manual)
  - [Appendix A: Claude Skill Templates](./appendix-a-claude-skill-templates.md)
    - [A.1 Main Skill Definition (skill.md)](./appendix-a-claude-skill-templates.md#a1-main-skill-definition-skillmd)
    - [A.2 Run Skill (run.md)](./appendix-a-claude-skill-templates.md#a2-run-skill-runmd)
  - [Appendix B: Sample Scenario Template](./appendix-b-sample-scenario-template.md)
    - [Step 2: Click Login Button](./appendix-b-sample-scenario-template.md#step-2-click-login-button)
    - [Step 3: Enter Credentials](./appendix-b-sample-scenario-template.md#step-3-enter-credentials)
    - [Step 4: Submit Login](./appendix-b-sample-scenario-template.md#step-4-submit-login)
  - [Expected Final State](#expected-final-state)
